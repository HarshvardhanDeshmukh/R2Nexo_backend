<div ng-controller="new_quiz_ctrl">

    <h4>Create new quiz</h4>
    <hr>

    <div class="row">

        <div class="col-sm-3"></div>

        <div class="well col-sm-6">
            Select Batch:
            <select class="form-control" ng-model="selected_batch" ng-options="batch.id+'. '+batch.batch_name for batch in batches" ng-change="changed_batch()">
            </select>

            <hr> Enter Name/Description of the Quiz:

            <input type="text" class="form-control" maxlength="80" placeholder="Please provide the description of the quiz" ng-model="quiz_desc">

            <hr>



            <label class="form-check-label" for="exampleCheck1">
                Get questions from existing quiz
            </label>
            
            <br>

            <small>NOTE: After selecting all existing questions will be replaced</small>
            <br>
            <br>
            <select class="form-control" ng-model="selected_quiz" ng-options="quiz.title for quiz in quiz_list"
                ng-change="select_quiz()">
            </select>

        </div>

        <div class="col-sm-3"></div>
    </div>

    <hr>

    <div class="form-horizontal row" ng-repeat="quest in questions">

        <div style="width: 80%; position:relative; left:10%" >

            <div class="form-group">
                <label class="control-label col-sm-2">Question {$ questions.indexOf(quest)+1 $}:</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" maxlength="500" ng-model="quest.title" placeholder="Enter question">
                </div>
                <button class="col-sm-2 btn btn-danger" ng-click="delete_question(quest)">
                    Delete &nbsp; &nbsp;
                    <i class="fa fa-trash"></i>
                </button>
            </div>

            <div class="form-group">
                <label class="control-label col-sm-2">Question Type:</label>
                <div class="col-sm-10">
                    <select class="form-control" ng-model="quest.type">
                        <option>Essay</option>
                        <option>MCQ</option>
                    </select>
                </div>
            </div>

            <div ng-if="quest.type == 'MCQ'">

                <div class="form-group">
                    <label class="control-label col-sm-2">Option A:</label>
                    <div class="col-sm-10">
                        <input type="text" ng-model="quest.option_a" class="form-control" placeholder="Enter Option A">
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">Option B:</label>
                    <div class="col-sm-10">
                        <input type="text" ng-model="quest.option_b" class="form-control" placeholder="Enter Option B">
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">Option C:</label>
                    <div class="col-sm-10">
                        <input type="text" ng-model="quest.option_c" class="form-control" placeholder="Enter Option C">
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">Option D:</label>
                    <div class="col-sm-10">
                        <input type="text" ng-model="quest.option_d" class="form-control" placeholder="Enter Option D">
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">Correct Option:</label>
                    <div class="col-sm-10">
                        <select class="form-control" ng-model="quest.correct_ans">
                            <option>A</option>
                            <option>B</option>
                            <option>C</option>
                            <option>D</option>
                        </select>
                    </div>
                </div>

            </div>

        </div>

        <br><br>
        <hr>
        

    </div>


    <button class="btn btn-info" ng-click="add_question()">
        Add Question &nbsp;
        <i class="fa fa-plus-square"></i>
    </button>

    <button class="btn btn-success r2-float-right" ng-click="publish_quiz()">
        Publish Quiz &nbsp;
        <i class="fa fa-bullhorn"></i>
    </button>

</div>